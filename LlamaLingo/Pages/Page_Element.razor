@page "/Element"
@inject DbContext db            // Inject the ServerDbContext service for database access
@inject NavigationManager _nav
@layout MainLayout

<div class="page-heading">
	<div class="header-info">
		<div class="page-info">
			<h3 class="header">Element CRUD</h3>
			<p class="subtitle"><a href="">Home</a> / Element</p>
		</div>
	</div>
</div>


<div class="content-box shadow" style="overflow: hidden !important">
	<div class="content-box">
		<div class="component-page">
			@* 	<h3>
			<br <br <br <br <br />
			<p>Pod#: @pod</p>
			<p>Person#:@pid</p>
			</h3> *@

			<!-- ************************************************************************************ -->
			<!-- ******************************** DISPLAY PANELS ************************************ -->
			<!-- ************************************************************************************ -->
			<div class="button-container unset-top">
				<div>
					<img src="images/UIpanels/Panel_Marque.png"
						 style="position:absolute; top:90px; left:600px; width:580px;border-radius:0px;background-size: cover;">
				</div>

				<div>
					<img src="images/buttons/Buttons_luster_element.png"
						 style="position:absolute; top:85px; left:820px; width:140px;border-radius:8px;background-size: cover;">
				</div>

				<div>
					<img src="images/UIpanels/Panel_Fluer.png"
						 style="position:absolute; top:80px; left:1250px; width:188px;border-radius:8px;background-size: cover;">
				</div>

				<!-- ************************************************************************************ -->
				<!-- *********************** DISPLAY PANEL CRUD BUTTONS ********************************* -->
				<!-- ************************************************************************************ -->

				<anythingyouwant>
					<div class="boxButton">
						<form @onsubmit="ShowList">
							<button class="buttonList" style="	left:10px;	">
								@table
							</button>
						</form>

						<form @onsubmit="ShowCreate">
							<button class="buttonAdd" style="	left: 202px;">
								@table
							</button>
						</form>

						<form @onsubmit="ShowModify">
							<button class="buttonChange" style="	left:394px;	">
								@table
							</button>
						</form>

						<form @onsubmit="ShowDelete">
							<button class="buttonDelete" style=" top: 210px; left:650px; opacity:100%; 	">
								@table
							</button>
						</form>
					</div>
				</anythingyouwant>

				<!-- ************************************************************************************ -->
				<!-- ************************************* ELEMENT LIST  *********************************** -->
				<!-- ************************************************************************************ -->
				@if (showList)
				{
					<div class="ShadowText">
						<img src="images/UIpanels/shadow_black.png"
							 style="border-radius: 12px;background-size: cover;">
					</div>

					<div class="exhibitPanel">
						<table id="listTable">
							@*A "table" (really a list) of all records of the same type as selected table crud value*@
							<tr>
								<th>@table ID# Label Type</th>
							</tr>
							@foreach (var element in elements)
							{   // Loop through each label of the currently selected table
								<tr>
									<td>@element.ElementId     @element.ElementLabel     @element.ElementType </td>
								</tr>
								// Display only the goal's description
							}
						</table>
					</div>
				}

				<!-- ************************************************************************************ -->
				<!-- ************************************* ELEMENT CREATE ********************************** -->
				<!-- ************************************************************************************ -->
				@if (showCreate)
				{
					<br>
					<div style="font-size:x-large; ">
						<form @onsubmit="OnCreate">

							<div class="ShadowText">
								<img src="images/UIpanels/shadow_black.png"
									 style="border-radius: 12px;background-size: cover;">
							</div>

							<div class="boxFilter">
								<img src="images/UIpanels/Panel_Commit_add.png"
									 style="border-radius: 12px;background-size: cover;">
								<button class="commitCreate" type="submit"></button>
							</div>

							<div class="exhibitInfo">

								<label>
									New @table:  Element Label 16:
									<input class="form-control" @bind="currentElement.ElementLabel" maxlength="16" required />
								</label><br><br>

								<label>
									Type:
									<input class="form-control" @bind="currentElement.ElementType" maxlength="4" required />
								</label><br><br>
							</div>
						</form>
					</div>
				}

				<!-- ************************************************************************************ -->
				<!-- ************************************* ELEMENT CHANGE ********************************** -->
				<!-- ************************************************************************************ -->
				@if (showModify)
				{
					<div class="ShadowText">
						<img src="images/UIpanels/shadow_black.png"
							 style="border-radius: 12px;background-size: cover;">
					</div>

					<div style="font-size:x-large; display: inline-block;">
						<form @onsubmit="OnChange">

							<div class="boxFilter">

								<div class="PypeTypeFilter">
									<label>
										<select @bind="selectedFilter">
											<option value="****">****</option>
											@foreach (var pype in pypes)
											{
												@*
										if (pype.PypeId == "ELEMENT")
										{
										<option value="@pype.PypeType">@pype.PypeType</option>
										} *@
											}
										</select>
									</label><br><br>
								</div>

								<div class="PypeType">
									<label>
										@table
										<select class="form-control" @bind="selectedElement">
											@foreach (var element in elements)
											{
												<option value="@element.ElementId"> @element.ElementLabel</option>
											}
										</select>
									</label>
								</div>
								<img src="images/UIpanels/Panel_Commit.png"
									 style="border-radius: 12px;background-size: cover;">
								<button class="commitChange" type="submit"></button>
							</div>


							<div class="exhibitInfo">
								<label>
									label:
									<input class="form-control" @bind="currentElement.ElementLabel" maxlength="16" required />
								</label><br><br>

								<label>
									type:
									<input class="form-control" @bind="currentElement.ElementType" maxlength="4" required />
								</label><br><br>@* <label>


							type:
							<select @bind="currentElement.ElementType" required>
							@foreach (var pype in pypes)
							{
							if (pype.PypeId == "VERB")
							{
							<option value="@pype.PypeType">@pype.PypeType</option>
							}
							}
							</select>
							</label><br><br> *@

							</div>
						</form>
					</div>
				}

				<!-- ************************************************************************************ -->
				<!-- ************************************* ELEMENT DELETE ********************************** -->
				<!-- ************************************************************************************ -->
				@if (showDelete)
				{
					<div style="font-size:x-large; display: inline-block;">
						<form @onsubmit="OnDelete">

							<div class="ShadowText">
								<img src="images/UIpanels/shadow_black.png"
									 style="border-radius: 12px;background-size: cover;">
							</div>

							<div class="boxFilter">

								<div class="PypeTypeFilter">
									<label>
										<select @bind="selectedFilter">
											<option value="****">****</option>
											@foreach (var pype in pypes)
											{
												@* 										if (pype.PypeId == "VERB")
										{
										<option value="@pype.PypeType">@pype.PypeType</option>
										} *@
											}
										</select>
									</label>
								</div>

								<div class="PypeType">
									<label>
										@table
										<select class="form-control" @bind="currentElement.ElementId">
											@foreach (var element in elements)
											{
												<option value="@element.ElementId"> @element.ElementLabel</option>
											}
										</select>
									</label>
								</div>

								<img src="images/UIpanels/Panel_Commit.png"
									 style="border-radius: 12px;background-size: cover;">
								<button class="commitDelete" type="submit">Delete</button>

							</div>

							<div class="exhibitInfo">
								@* 						Only if the Status = D
							*@
							</div>
						</form>
					</div>
				}

				@*<jukebox>
				<div>
				<audio controls="controls">
				<source src="/images/Audio/curatorintrojazz.mp3" />
				</audio>
				</div>
				</jukebox>*@
			</div>
		</div>
	</div>
</div>


<style>
	.component-page {
		background: url(images/BG/menu_blank.png)no-repeat;
	}

	boxCRUD {
		padding: 0;
		margin: 0;
		width: 1000px;
		height: 100px;
		text-align: right;
		top: 90px;
		left: 820px;
		color: #FF0000;
		position: absolute;
		opacity: 75%;
		background-image: url("images/GUI/DC_GUI_user_Direction.png");
		background-size: cover;
	}
</style>