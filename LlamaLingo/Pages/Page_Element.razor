@page "/Element"
@inject DbContext db            // Inject the ServerDbContext service for database access
@inject NavigationManager _nav
@layout MainLayout

<div class="content-box shadow" style="overflow: hidden !important">
	<div class="content-box">
		<div class="component-page">

			<!-- ************************************************************************************ -->
			<!-- ******************************** DISPLAY PANELS ************************************ -->
			<!-- ************************************************************************************ -->
			<div class="button-container unset-top">
				<div>				
					<img src="https://llamalingostorage.blob.core.windows.net/images/images/UIpanels/Panel_Marque.png?sp=r&st=2023-09-01T04:00:00Z&se=2024-05-01T04:00:00Z&spr=https&sv=2022-11-02&sr=c&sig=MzFWQg%2BrEGxisPGyf8Z0la%2FTYpWi%2F771NMJ5hD7%2Fjjg%3D"
						 style="position:absolute; top:90px; left:600px; width:580px;border-radius:0px;background-size: cover;">
				</div>
				
				<div>
					<img src="https://llamalingostorage.blob.core.windows.net/images/images/buttons/Buttons_luster_element.png?sp=r&st=2023-09-01T04:00:00Z&se=2024-05-01T04:00:00Z&spr=https&sv=2022-11-02&sr=c&sig=MzFWQg%2BrEGxisPGyf8Z0la%2FTYpWi%2F771NMJ5hD7%2Fjjg%3D"
						 style="position:absolute; top:85px; left:820px; width:140px;border-radius:8px;background-size: cover;">
				</div>
				
				<div>
					<img src="https://llamalingostorage.blob.core.windows.net/images/images/UIpanels/Panel_Fluer.png?sp=r&st=2023-09-01T04:00:00Z&se=2024-05-01T04:00:00Z&spr=https&sv=2022-11-02&sr=c&sig=MzFWQg%2BrEGxisPGyf8Z0la%2FTYpWi%2F771NMJ5hD7%2Fjjg%3D"
						 style="position:absolute; top:80px; left:1250px; width:188px;border-radius:8px;background-size: cover;">
				</div>

				<!-- ************************************************************************************ -->
				<!-- *********************** DISPLAY PANEL CRUD BUTTONS ********************************* -->
				<!-- ************************************************************************************ -->

				<anythingyouwant>
					<div class="boxButton">
						<form @onsubmit="ShowList">
							<button class="buttonList" style="	left:10px;	">
								@table
							</button>
						</form>

						<form @onsubmit="ShowCreate">
							<button class="buttonAdd" style="	left: 202px;">
								@table
							</button>
						</form>

						<form @onsubmit="ShowModify">
							<button class="buttonChange" style="	left:394px;	">
								@table
							</button>
						</form>

						<form @onsubmit="ShowDelete">
							<button class="buttonDelete" style=" top: 210px; left:650px; opacity:100%; 	">
								@table
							</button>
						</form>
					</div>
				</anythingyouwant>

				<!-- ************************************************************************************ -->
				<!-- ************************************* ELEMENT LIST  *********************************** -->
				<!-- ************************************************************************************ -->
				@if (showList)
				{
				
					<div class="ShadowText">
						<img src="https://llamalingostorage.blob.core.windows.net/images/images/UIpanels/shadow_black.png?sp=r&st=2023-09-01T04:00:00Z&se=2024-05-01T04:00:00Z&spr=https&sv=2022-11-02&sr=c&sig=MzFWQg%2BrEGxisPGyf8Z0la%2FTYpWi%2F771NMJ5hD7%2Fjjg%3D"
							 style="border-radius: 12px;background-size: cover;">
					</div>

					<div class="exhibitPanel">
						<table id="listTable">
							@*A "table" (really a list) of all records of the same type as selected table crud value*@
							<tr>
								<th>@table ID# Label Type</th>
							</tr>
							@foreach (var element in elements)
							{   // Loop through each label of the currently selected table
								<tr>
									<td>@element.ElementId     @element.ElementLabel     @element.ElementType </td>
								</tr>
								// Display only the goal's description
							}
						</table>
					</div>
				}

				<!-- ************************************************************************************ -->
				<!-- ************************************* ELEMENT CREATE ********************************** -->
				<!-- ************************************************************************************ -->
				@if (showCreate)
				{
					<br>
					<div style="font-size:x-large; ">
						<form @onsubmit="OnCreate">
							<div class="ShadowText">
								<img src="https://llamalingostorage.blob.core.windows.net/images/images/UIpanels/shadow_black.png?sp=r&st=2023-09-01T04:00:00Z&se=2024-05-01T04:00:00Z&spr=https&sv=2022-11-02&sr=c&sig=MzFWQg%2BrEGxisPGyf8Z0la%2FTYpWi%2F771NMJ5hD7%2Fjjg%3D"
									 style="border-radius: 12px;background-size: cover;">
							</div>
							
							<div class="boxFilter">
								<img src="https://llamalingostorage.blob.core.windows.net/images/images/UIpanels/Panel_Commit_add.png?sp=r&st=2023-09-01T04:00:00Z&se=2024-05-01T04:00:00Z&spr=https&sv=2022-11-02&sr=c&sig=MzFWQg%2BrEGxisPGyf8Z0la%2FTYpWi%2F771NMJ5hD7%2Fjjg%3D"
									 style="border-radius: 12px;background-size: cover;">
								<button class="commitCreate" type="submit"></button>
							</div>

							<div class="exhibitInfo">

								<label>
									New @table:  Element Label 16:
									<input class="form-control" @bind="currentElement.ElementLabel" maxlength="16" required />
								</label><br><br>

								<label>
									Type:
									<input class="form-control" @bind="currentElement.ElementType" maxlength="4" required />
								</label><br><br>
							</div>
						</form>
					</div>
				}

				<!-- ************************************************************************************ -->
				<!-- ************************************* ELEMENT CHANGE ********************************** -->
				<!-- ************************************************************************************ -->
				@if (showModify)
				{
					<div class="ShadowText">
						<img src="https://llamalingostorage.blob.core.windows.net/images/images/UIpanels/shadow_black.png?sp=r&st=2023-09-01T04:00:00Z&se=2024-05-01T04:00:00Z&spr=https&sv=2022-11-02&sr=c&sig=MzFWQg%2BrEGxisPGyf8Z0la%2FTYpWi%2F771NMJ5hD7%2Fjjg%3D"
							 style="border-radius: 12px;background-size: cover;">
					</div>

					<div style="font-size:x-large; display: inline-block;">
						<form @onsubmit="OnChange">

							<div class="boxFilter">

								<div class="PypeTypeFilter">
									<label>
										<select @bind="selectedFilter">
											<option value="****">****</option>
											@foreach (var pype in pypes)
											{
												@*
										if (pype.PypeId == "ELEMENT")
										{
										<option value="@pype.PypeType">@pype.PypeType</option>
										} *@
											}
										</select>
									</label><br><br>
								</div>

								<div class="PypeType">
									<label>
										@table
										<select class="form-control" @bind="selectedElement">
											@foreach (var element in elements)
											{
												<option value="@element.ElementId"> @element.ElementLabel</option>
											}
										</select>
									</label>
								</div>
								<img src="https://llamalingostorage.blob.core.windows.net/images/images/UIpanels/Panel_Commit.png?sp=r&st=2023-09-01T04:00:00Z&se=2024-05-01T04:00:00Z&spr=https&sv=2022-11-02&sr=c&sig=MzFWQg%2BrEGxisPGyf8Z0la%2FTYpWi%2F771NMJ5hD7%2Fjjg%3D"
									 style="border-radius: 12px;background-size: cover;">
								<button class="commitChange" type="submit"></button>
							</div>


							<div class="exhibitInfo">
								<label>
									label:
									<input class="form-control" @bind="currentElement.ElementLabel" maxlength="16" required />
								</label><br><br>

								<label>
									type:
									<input class="form-control" @bind="currentElement.ElementType" maxlength="4" required />
								</label><br><br>@* <label>


							type:
							<select @bind="currentElement.ElementType" required>
							@foreach (var pype in pypes)
							{
							if (pype.PypeId == "VERB")
							{
							<option value="@pype.PypeType">@pype.PypeType</option>
							}
							}
							</select>
							</label><br><br> *@

							</div>
						</form>
					</div>
				}

				<!-- ************************************************************************************ -->
				<!-- ************************************* ELEMENT DELETE ********************************** -->
				<!-- ************************************************************************************ -->
				@if (showDelete)
				{
					<div style="font-size:x-large; display: inline-block;">
						<form @onsubmit="OnDelete">

							<div class="ShadowText">
								<img src="https://llamalingostorage.blob.core.windows.net/images/images/UIpanels/shadow_black.png?sp=r&st=2023-09-01T04:00:00Z&se=2024-05-01T04:00:00Z&spr=https&sv=2022-11-02&sr=c&sig=MzFWQg%2BrEGxisPGyf8Z0la%2FTYpWi%2F771NMJ5hD7%2Fjjg%3D"
									 style="border-radius: 12px;background-size: cover;">
							</div>

							<div class="boxFilter">

								<div class="PypeTypeFilter">
									<label>
										<select @bind="selectedFilter">
											<option value="****">****</option>
											@foreach (var pype in pypes)
											{
												@* 										if (pype.PypeId == "VERB")
										{
										<option value="@pype.PypeType">@pype.PypeType</option>
										} *@
											}
										</select>
									</label>
								</div>

								<div class="PypeType">
									<label>
										@table
										<select class="form-control" @bind="currentElement.ElementId">
											@foreach (var element in elements)
											{
												<option value="@element.ElementId"> @element.ElementLabel</option>
											}
										</select>
									</label>
								</div>

								<img src="https://llamalingostorage.blob.core.windows.net/images/images/UIpanels/Panel_Commit.png?sp=r&st=2023-09-01T04:00:00Z&se=2024-05-01T04:00:00Z&spr=https&sv=2022-11-02&sr=c&sig=MzFWQg%2BrEGxisPGyf8Z0la%2FTYpWi%2F771NMJ5hD7%2Fjjg%3D"
									 style="border-radius: 12px;background-size: cover;">
								<button class="commitDelete" type="submit">Delete</button>

							</div>

							<div class="exhibitInfo">
								@* 						Only if the Status = D
							*@
							</div>
						</form>
					</div>
				}
			</div>
		</div>
	</div>
</div>


<style>
	
	.component-page {
		background: url("https://llamalingostorage.blob.core.windows.net/images/images/BG/menu_blank.png?sp=r&st=2023-09-01T04:00:00Z&se=2024-05-01T04:00:00Z&spr=https&sv=2022-11-02&sr=c&sig=MzFWQg%2BrEGxisPGyf8Z0la%2FTYpWi%2F771NMJ5hD7%2Fjjg%3D")no-repeat;
	}

	boxCRUD {
		padding: 0;
		margin: 0;
		width: 1000px;
		height: 100px;
		text-align: right;
		top: 90px;
		left: 820px;
		color: #FF0000;
		position: absolute;
		opacity: 75%;
		background-image: url("https://llamalingostorage.blob.core.windows.net/images/images/GUI/DC_GUI_user_Direction.png?sp=r&st=2023-09-01T04:00:00Z&se=2024-05-01T04:00:00Z&spr=https&sv=2022-11-02&sr=c&sig=MzFWQg%2BrEGxisPGyf8Z0la%2FTYpWi%2F771NMJ5hD7%2Fjjg%3D");
		background-size: cover;
	}

	.content {
		background-color: #343132;
	}

	.content-box {
		height: 1080px;
		width: 1920px;
		max-width: 1920px;
		max-height: 1080px;
		border-radius: unset;
		overflow: hidden;
	}
</style>